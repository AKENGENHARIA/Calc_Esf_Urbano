<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Exemplo</title>
    <link rel="stylesheet" href="css/style_corpo.css">



</head>

<body>

    <!-- Modal para coletar informações do poste -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2>CARACTERÍSTICAS DO POSTE</h2>

            <div class="form-group">
                <label for="numeroPoste">Nº do Poste</label>
                <input type="text" id="numeroPoste">
            </div>

            <div class="form-row">
                <div class="radio-group">
                    <h4>Tipo</h4>
                    <label><input type="radio" name="tipoPoste" value="SC"> Poste SC</label>
                    <label><input type="radio" name="tipoPoste" value="Madeira"> Poste Madeira</label>
                    <label><input type="radio" name="tipoPoste" value="DT"> Poste DT</label>
                    <label><input type="radio" name="tipoPoste" value="Aço"> Poste AÇO</label>
                </div>

                <div class="radio-group">
                    <h4>Altura (m)</h4>
                    <label><input type="radio" name="altura" value="9"> 9</label>
                    <label><input type="radio" name="altura" value="10"> 10</label>
                    <label><input type="radio" name="altura" value="11"> 11</label>
                    <label><input type="radio" name="altura" value="12"> 12</label>
                    <label><input type="radio" name="altura" value="13"> 13</label>
                    <label><input type="radio" name="altura" value="15"> 15</label>
                    <label><input type="radio" name="altura" value="18"> 18</label>
                </div>

                <div class="radio-group">
                    <h4>Capacidade (daN)</h4>
                    <label><input type="radio" name="capacidade" value="100"> 100</label>
                    <label><input type="radio" name="capacidade" value="150"> 150</label>
                    <label><input type="radio" name="capacidade" value="200"> 200</label>
                    <label><input type="radio" name="capacidade" value="300"> 300</label>
                    <label><input type="radio" name="capacidade" value="400"> 400</label>
                    <label><input type="radio" name="capacidade" value="450"> 450</label>
                    <label><input type="radio" name="capacidade" value="600"> 600</label>
                    <label><input type="radio" name="capacidade" value="1000"> 1000</label>
                </div>
            </div>

            <div class="buttons">
                <button id="confirmar">CONFIRMAR</button>
                <button id="sair">SAIR</button>
            </div>
        </div>
    </div>

    <div class="forces-container" id="forces-container"></div>

    <div class="buttons">
        <button id="calcular">CALCULAR</button>
        <button id="salvar">SALVAR</button>
    </div>

    <div class="results">
        <p>Resultado: <span class="value" id="resultado"></span></p>
    </div>

    <!-- Colocar o JavaScript após o carregamento do conteúdo da página -->
    <script>
        window.onload = function () {
            // Abrir o modal ao carregar a página
            document.getElementById('postModal').style.display = "block";

            // Adicionar eventos de clique ao carregar a página
            document.getElementById('confirmar').addEventListener('click', confirmarDados);
            document.getElementById('sair').addEventListener('click', sairModal);
            document.getElementById('calcular').addEventListener('click', calcular);
            document.getElementById('salvar').addEventListener('click', salvar);
        };

        function confirmarDados() {
            const numeroPoste = parseInt(document.getElementById("numeroPoste").value);
            const tipoPoste = document.querySelector('input[name="tipoPoste"]:checked')?.value;
            const altura = document.querySelector('input[name="altura"]:checked')?.value;
            const capacidade = document.querySelector('input[name="capacidade"]:checked')?.value;

            if (numeroPoste && tipoPoste && altura && capacidade) {
                // Coletar dados e fechar o modal
                const posteData = { numeroPoste, tipoPoste, altura, capacidade };
                document.getElementById("postModal").style.display = "none";
                generateForceInputs(); // Gera os inputs para as forças
            } else {
                alert('Por favor, preencha todos os campos do poste.');
            }
        }

        function sairModal() {
            document.getElementById("postModal").style.display = "none";
        }

        function generateForceInputs() {
            const forceData = [
                { id: 'F1', estaioId: 1 },
                { id: 'F2', estaioId: 2 },
                { id: 'F3', estaioId: 3 },
                { id: 'F4', estaioId: 4 },
                { id: 'F5', estaioId: 5 }
            ];

            const forcesContainer = document.getElementById('forces-container');
            forcesContainer.innerHTML = ''; // Limpar os campos existentes
            forceData.forEach(force => {
                const forceHTML = `
                  <div class="force-input" id="${force.id}">
                <h3>FORÇA ${force.estaioId}</h3>
                <section class="vao-ang">
                    <label for="span${force.estaioId}_${force.id}">Vão:</label>
                    <input type="number" id="span${force.estaioId}_${force.id}" value="">
                    <label for="angle${force.estaioId}_${force.id}">Ângulo:</label>
                    <input type="number" id="angle${force.estaioId}_${force.id}" value="">
                </section>
                <div class="RedeDentrega">
                    <h3>Rede de Energia</h3>
                    <p>Rede MT</p>
                    <select name="rede_mt_${force.id}" id="rede_mt_${force.id}">
                    <option value="0">Selecione</option>
                    <option value="415">3#50+9,5</option>
                    <option value="255">1#50+9,6</option>
                    <option value="517">3#150+9,7</option>
                    <option value="58">1#4</option>
                    <option value="116">2#4</option>
                    <option value="174">3#4</option>
                    <option value="92">1#2</option>
                    <option value="184">2#2</option>
                    <option value="276">3#2</option>
                    <option value="145">1#1/0</option>
                    <option value="290">2#1/0</option>
                    <option value="435">3#1/0</option>
                    <option value="293">1#4/0</option>
                    <option value="586">2#4/0</option>
                    <option value="879">3#4/0</option>
                    <option value="467">1#336</option>
                    <option value="934">2#336</option>
                    <option value="1401">3#336</option>
                    <option value="358">3x1x50+9</option>
                    <option value="552">3x1x120+9</option>
                    <option value="703">3x1x185+9</option>

                    </select>

                    <p>Rede BT</p>
                    <select name="rede_bt_${force.id}" id="rede_bt_${force.id}">
                    <option value="0">Selecione</option>
                    <option value="114">2x1x35+70</option>
                    <option value="181">2x1x70+70</option>
                    <option value="161">3x1x35+70</option>
                    <option value="245">3x1x70+70</option>
                    <option value="381">3x1x120+70</option>
                    <option value="58">1#4</option>
                    <option value="116">2#4(4)</option>
                    <option value="174">3#4(4)</option>
                    <option value="92">1#2</option>
                    <option value="183">2#2(4)</option>
                    <option value="184">2#2(2)</option>
                    <option value="275">3#2(4)</option>
                    <option value="276">3#2(2)</option>
                    <option value="145">1#1/0</option>
                    <option value="290">2#1/0(2)</option>
                    <option value="435">3#1/0(2)</option>
                    <option value="293">1#4/0</option>
                    <option value="586">2#4/0(1/0)</option>
                    <option value="879">3#4/0(1/0)</option>
                    <option value="467">1#336</option>
                    <option value="934">2#336(4/0)</option>
                    <option value="1401">3#336(4/0)</option>
                    </select>

                    <p>Nível da cruzeta MT</p>
                    <select name="nivel_cruzeta_mt_${force.id}" id="nivel_cruzeta_mt_${force.id}">
                        <option value="1">NIVEL 1</option>
                        <option value="0.96">NIVEL 2</option>
                        <option value="0.86">NIVEL 3</option>
                    </select>
                </div>
                <section class="estaio estaio-section">
                    <h3>Estaio ${force.estaioId}</h3>
                    <input type="radio" id="estaio_sim${force.estaioId}" name="estaio${force.estaioId}" value="sim"> Sim
                    <input type="radio" id="estaio_nao${force.estaioId}" name="estaio${force.estaioId}" value="nao"> Não
                    <select id="estaio_${force.id}">
                        <option value="0">Selecione</option>
                        <option value="CZ-CZ">CZ-CZ</option>
                        <option value="MT-PP">MT-PP</option>
                        <option value="BT-PP">BT-PP</option>
                        <option value="MT-PCP">MT-PCP</option>
                        <option value="BT-PCP">BT-PCP</option>

                    </select>
                    <input type="number" id="estaio_${force.estaioId}">
                </section>
                <section class="usoMutuo">
                    <h3>Uso Mútuo</h3>
                    <select id="usoMutuo_${force.id}">
                       <option value="0">Selecione</option>
                        <option value="81">CFO-80G 12F</option>
                        <option value="100">CFO-80G 24F</option>
                        <option value="100">CFO-80G 36F</option>
                        <option value="128">CFO-80G 48F</option>
                        <option value="128">CFO-80G 72F</option>
                        <option value="175">CFO-80G 96F</option>
                        <option value="260">CFO-80G 144F</option>

                    </select>
                </section>
            </div>
                `;
                forcesContainer.innerHTML += forceHTML;
            });
        }


            function calcular() {
            // Lógica de cálculo (exemplo básico)
            const resultado = "Calculado com sucesso!";
            document.getElementById('resultado').innerText = resultado;
        }

        function salvar() {
            // Lógica para salvar os dados
            alert("Dados salvos com sucesso!");
        }
    </script>

</body>

</html>
